var fs = require('fs'),
  path = require('path')

// add bash completions to your
//  yargs-powered applications.
module.exports = function (yargs, usage) {
  var self = {
    completionKey: 'get-yargs-completions'
  }

  // get a list of completion commands.
  self.getCompletion = function (done) {
    var completions = [],
    current = process.argv[process.argv.length - 1],
    previous = process.argv.slice(process.argv.indexOf('--' + self.completionKey) + 1),
    argv = yargs.parse(previous)

    // a c